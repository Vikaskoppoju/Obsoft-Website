<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Faculty Dashboard</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
   .card-img-top {
      height: 200px;
      object-fit: cover;
    }
    a {
      text-decoration: none;
      color: #0e0e0e;
      text-align: center;
    }
    body {
      background-color: #f8f9fa; /* Default light mode background color */
    }
    #sidebar {
      width: 200px;
      background-color: #2c3e50;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
    }
    #sidebar a {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      text-decoration: none;
      color: #fff;
      transition: 0.3s;
    }
    #sidebar.dark-mode {
      background-color: #041631;
    }
    #sidebar.dark-mode a {
      color: #c9d1d9;
    }
    #sidebar a:hover {
      background-color: #538ec9;
    }
    #sidebar .active {
      background-color: #34495e;
      font-weight: bold;
    }
    #sidebar .icon {
      margin-right: 10px;
    }
    #content {
      margin-left: 200px;
      padding: 20px;
      background-color: #f8f9fa; /* Default light mode content background color */
      transition: background-color 0.3s ease;
    }
    #content.light-mode {
      background-color: #f8f9fa;
    }
    #content.dark-mode {
      background-color: #08234a; /* Dark mode content background color */
    }
    .logout-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      color: #0a0909;
      text-decoration: none;
    }
    .small-card {
      height: 150px;
    }
    .my-tasks-container {
      position: absolute;
      left: 250px;
      width: 500px;
      padding: 20px;
      height: 250px;
      background-color: #f9f9f9;
      overflow-y: auto;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease;
    }
    .my-tasks-container.light-mode {
      background-color: #f9f9f9;
    }
    .my-tasks-container.dark-mode {
      background-color: #044b92;
      color: #c9d1d9;
    }
    .my-tasks-heading {
      margin-bottom: 20px;
    }
    .todo-list {
      list-style-type: none;
      padding: 0;
    }
    .todo-list li {
      display: flex;
      align-items: center;
      padding: 5px 0;
    }
    .task-text {
      flex-grow: 1;
      margin-left: 10px;
    }
    .task-text.completed {
      text-decoration: line-through;
    }
   
    header{
        position: static;  
    }
    #header.light-mode{
        text-emphasis-color: black;
    }
    #header.dark-mode{
        text-emphasis-color: rgb(14, 3, 82);
    }
  </style>
</head>
<body>
  <div id="content">
    <div id="sidebar">
      <a href="#" class="active">
        <i class="fas fa-chart-line icon"></i>
        Dashboard
      </a>
      <a href="#">
        <i class="fas fa-user icon"></i>
        Profile
      </a>
      <a href="#">
        <i class="fas fa-bell icon"></i>
        Notifications
      </a>
      <a href="#" class="settings-btn" id="settingsBtn">
        <i class="fas fa-cog icon"></i>
        Settings
      </a>
      <a href="#">
        <i class="fas fa-user-circle"></i>
        Logout
      </a>
    </div>
    
    <h3 class="header">Hii, {{username}}</h3>
    <div class="container mt-3">
      <div class="row">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="col-md-4 mb-3">
          <a href="{% url 'lessonplans' %}">
            <div class="card">
              <img src="https://o.remove.bg/downloads/cfb4a839-e57c-4804-b959-b0fe46ede161/image-removebg-preview.png" class="card-img-top" alt="View Lesson Plans">
              <div class="card-footer align-items-center">
                <h5 class="card-title">
                  Lesson Plan
                </h5>
              </div>
            </div>
          </a>
        </div>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="col-md-4 mb-3">
          <a href="#">
            <div class="card">
              <img src="https://o.remove.bg/downloads/82bb78b0-a7e8-4188-a083-9169b67076ab/image-removebg-preview.png" class="card-img-top" alt="Calculate Attainments">
              <div class="card-footer align-items-center">
                <h5 class="card-title">
                  Attainments
                </h5>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
    <br>
    <br>
    <div>
      <div class="my-tasks-container mt-8">
        <h4 class="my-tasks-heading">My Tasks</h4>
        <ul id="todoList" class="todo-list"></ul>
        <div class="input-group mt-3">
          <input type="text" id="taskInput" class="form-control" placeholder="Add a new task">
          <div class="input-group-append">
            <button id="addTaskBtn" class="btn btn-success">Add Task</button>
          </div>
        </div>
      </div>
    </div>
    
  </div>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    // Add Task
    const addTaskBtn = document.getElementById("addTaskBtn");
    const taskInput = document.getElementById("taskInput");
    const todoList = document.getElementById("todoList");
    let taskCount = 0;
    // Add Task
addTaskBtn.addEventListener("click", function () {
  const taskText = taskInput.value.trim();
  if (taskText !== "") {
    const li = document.createElement("li");
    li.innerHTML = `
      <input type="checkbox" class="task-checkbox" />
      <span class="task-text">${taskText}</span>
    `;
    todoList.appendChild(li);
    taskInput.value = "";
    checkTaskCount();
  }
});

// Toggle Completed Task
todoList.addEventListener("change", function (e) {
  if (e.target.classList.contains("task-checkbox")) {
    const taskText = e.target.nextElementSibling;
    taskText.classList.toggle("completed");
    if (taskText.classList.contains("completed")) {
      taskText.parentElement.remove();
     checkTaskCount();
   }
    
  }
});

// Check Task Count
function checkTaskCount() {
  const completedTasks = todoList.getElementsByClassName("completed");
  const taskCount = todoList.children.length - completedTasks.length;
  if (taskCount >= 5) {
    addTaskBtn.disabled = true;
    alert("Finish the remaining tasks first.");
  } else {
    addTaskBtn.disabled = false;
  }
}

//     addTaskBtn.addEventListener("click", function () {
//       if (taskCount >= 5) {
//         alert("Finish below tasks first");
//         return;
//       }

//       const taskText = taskInput.value.trim();
//       if (taskText !== "") {
//         const li = document.createElement("li");
//         li.innerHTML = `
//           <input type="checkbox" class="task-checkbox" />
//           <span class="task-text">${taskText}</span>
//         `;
//         todoList.appendChild(li);
//         taskInput.value = "";
//         taskCount++;
//       }
//     });

//     // Toggle Completed Task
// todoList.addEventListener("change", function (e) {
//   if (e.target.classList.contains("task-checkbox")) {
//     const taskText = e.target.nextElementSibling;
//     taskText.classList.toggle("completed");

//     if (taskText.classList.contains("completed")) {
//       taskText.parentElement.remove();
//       checkTaskCount();
//     }
//   }
// });

// // Check Task Count
// function checkTaskCount() {
//   const taskCount = todoList.children.length;
//   if (taskCount >= 5) {
//     addTaskBtn.disabled = true;
//     alert("Finish the remaining tasks first.");
//   } else {
//     addTaskBtn.disabled = false;
//   }
// }




    // Toggle Light and Dark Mode
    const settingsBtn = document.getElementById("settingsBtn");
    const sidebar = document.getElementById("sidebar");
    const content = document.getElementById("content");
    const tasksContainer = document.querySelector(".my-tasks-container");
    const header = document.querySelector(".header");

    settingsBtn.addEventListener("click", function () {
      sidebar.classList.toggle("dark-mode");
      content.classList.toggle("dark-mode");
      tasksContainer.classList.toggle("dark-mode");
      header.classList.toggle("dark-mode");
      document.body.classList.toggle("dark-mode");
    });
  </script>
</body>
</html>
